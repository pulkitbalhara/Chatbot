version: "3.1"

intents:
  - apply_scheme
  - select_scheme
  - greet
  - query_emergency_contact
  - emergency_contact_type
  - affirm
  - deny

entities:
  - scheme_name
  - em_contact_type

slots:
  scheme_name:
    type: text
    mappings:
      - type: from_entity
        entity: scheme_name
  em_contact_type:
    type: text
    mappings:
      - type: from_entity
        entity: em_contact_type

responses:
  utter_greet:
    - text: "Hello! How can I assist you today?"
  utter_service_options:
    - text: "Here are some options I can help you with:"
      buttons:
        - title: "Apply for a Scheme"
          payload: /apply_scheme
        - title: "Get Emergency Contact"
          payload: /query_emergency_contact
  utter_ask_scheme_type:
    - text: "Which scheme would you like to apply for?"
      buttons:
        - title: "PM Awas Yojana"
          payload: /select_scheme{"scheme_name": "PM Awas Yojana"}
        - title: "Certificate Issuance"
          payload: /select_scheme{"scheme_name": "Certificate Issuance"}
  utter_confirmation_for_filled_form:
    - text: "Thank you for providing the details. Your application has been submitted."
  utter_list_of_emergency_numbers:
    - text: "I can provide emergency contact details for hospitals, police, and fire services. Which one do you need?"
  utter_contact_details:
    - text: "Here are the contact details you requested."
  utter_goodbye:
    - text: "Thank you! Have a great day!"

forms:
  apply_scheme_form:
    required_slots:
      - scheme_name
  emergency_contact_form:
    required_slots:
      - em_contact_type

actions:
  - action_confirm_application