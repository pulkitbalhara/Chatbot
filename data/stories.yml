version: "3.1"

stories:

- story: apply_for_scheme_with_form
  steps:
    - intent: greet
    - action: utter_greet
    - action: utter_service_options  # Offers the user available services
    - intent: apply_scheme  # User chooses to apply for a scheme
    - action: utter_ask_scheme_type
    - intent: select_scheme
      entities:
        - scheme_name: "Pradhan Mantri Awas Yojana"
    - action: apply_scheme_form  # Trigger the form to collect user details
    - active_loop: apply_scheme_form
    - active_loop: null  # End the form once all details are filled
    - action: utter_confirmation_for_filled_form

- story: get_emergency_contact
  steps:
    - intent: greet
    - action: utter_greet
    - action: utter_service_options  # Offers services available
    - intent: query_emergency_contact  # User chooses to get emergency contact details
    - action: utter_list_of_emergency_numbers
    - intent: emergency_contact_type
      entities:
        - em_contact_type: "Hospital"
    - action: utter_contact_details  # Provides emergency contact details
    - action: utter_goodbye

- story: general_greeting_and_info
  steps:
    - intent: greet
    - action: utter_greet
    - action: utter_service_options  # Offers services to the user